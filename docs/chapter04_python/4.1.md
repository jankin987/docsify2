# 1.1 Python

## 1.1.1 相关系统函数
### 1.常用
`import os` 导入os包
`import shutil` 导入shutil模块，高级文件操作，复制，粘贴，移动，删除
`os.path.join()` 合并路径
`os.rename()` 重命名文件
`os.listdir()` 列出目录下文件名
`os.path.exists(path)` 判断一个目录是否存在
`os.makedirs(path)` 多层创建目录
`os.mkdir(path)` 创建目录

### 2. glob函数
glob中支持的通配符有三种：
‘*’ 匹配0个或多个字符
‘?’ 仅匹配一个字符
‘[]’ 匹配指定范围内的字符，如[0-9]匹配数字

在python中，glob模块是用来查找匹配的文件的
在查找的条件中，需要用到Unix shell中的匹配规则：
  \*    :   匹配所所有
  ?    :   匹配一个字符
  *.*  :   匹配如：[hello.txt,cat.xls,xxx234s.doc]
  ?.*  :   匹配如：[1.txt,h.py]
  ?.gif:   匹配如：[x.gif,2.gif]
  如果没有匹配的，glob.glob(path)将返回一个空的list:[]

### 3.shutil函数

#### 文件夹和文件复制

**`shutil.copyfileobj(fsrc, fdst[, length])`**

复制类文件(file-like)对象 `fsrc` 的内容到类文件对象 `fdst`。 可选**整数参数** `length`， 指定缓冲区大小。具体而言， `length` 的值为负数，复制操作不会将源数据分块进行复制。 默认的，为了避免不可控制的内存消耗，数据会被分块存入chunk中。 **注意：** 如果 `fsrc` 对象的当前文件位置不为 0 ，则只有从当前文件位置到文件末位的内容会被复制。

**`shutil.copyfile(src, dst)`**

复制文件 `src` 的内容（不包含元素据）到文件 `dst` 中。 `dst` 必须为一个完整的目标文件。 如果要将文件复制目标文件夹中，查看 `shutil.copy()` 。 `src` 和 `dst` 不能为同一个文件，否则会[报错](https://tangx.in/2016/11/24/python-libaray-shutil-shell-command-for-python/#shutil.Error)。 目标文件位置必须为可写状态，否则会触发 [IOError](https://docs.python.org/2/library/exceptions.html#exceptions.IOError)。 如果 `dst` 已经存在，则会被覆盖。 特别的， 字符设备、块设备和管道不能使用此方法复制。 使用字符串指定`src` 和 `dst` 路径。

**`shutil.copymode(src, dst)`**

复制 `src` 的文件**权限位**到 `dst` 。 文件的内容、属主和用户组不会受影响。 使用字符串指定`src` 和 `dst` 路径。

**`shutil.copystat(src, dst)`**

复制文件 `src` 的文件**权限位**、**最后访问 access 时间**、**最后修改 modification 时间**和**标识 flags **到 `dst`。文件的内容、属主和用户组不会受影响。 使用字符串指定`src` 和 `dst` 路径。

**`shutil.copy(src, dst)`**

复制文件 `src` 到 `dst` 文件或文件夹中。 如果 `dst` 是文件夹， 则会在文件夹中创建或覆盖一个文件，且该文件与 `src` 的文件名相同。 文件权限位会被复制。使用字符串指定`src` 和 `dst` 路径。

**`shutil.copy2(src, dst)`**

与 `shutil.copy()` 类似，另外会同时复制文件的元数据。 实际上，该方法是 `shutil.copy()` 和 `shutil.copystat()` 组合。该方法相当于 Unix 命令的 ` cp -p `。

**`shutil.ignore_patterns(*patterns)`**

该工厂函数创建了一个可以被调用的函数， 该函数可以用于 `shutil.copytree()` 的 ** ignore 参数**的值， 以跳过正确匹配的文件和文件夹。 更多参考下面离职。

**`shutil.copytree(src, dst, symlinks=False, ignore=None)`**

递归复制整个 `src` 文件夹。 目标文件夹名为 `dst`，不能已经存在；方法会自动创建 `dst` 根文件夹。 文件夹权限和时间通过 `shutil.copystat()` 复制， 单独的文件通过 `shutil.copy2()` 复制。 如果 ` symlinks ` 为真， 源文件夹中的符号链接将会被保留，但是原链接的元数据**不会**被复制。如果值为假或被省略，则链接文件指向文件的内容和元数据复制到新文件夹树中。 如果指定了 `ignore`， 那么他必须是调用队列(callable)，且作为 `shutil.copytree()` 的参数。参数包括文件夹本机及并通过 `os.listdir()`返回文件夹包含的内容。由于 `shutil.copytree()` 递归复制，因此 `ignore` 会在复制每个子文件夹的时候被调用。 callable必须返回一个由当前文件夹下的文件夹和文件所组成的队列（i.e. a subset of the items in the second argument)； 这些文件夹和文件在复制过程中会被忽略。可以使用 `shutil.ignore_patterns()` 创建callable。

如果发生意外， `shutil.Error()` 返回错误原因。

该源码应该被当作一个示例而不是最终的工具。

> Changed in version 2.3: Error is raised if any exceptions occur during copying, rather than printing a message. Changed in version 2.5: Create intermediate directories needed to create dst, rather than raising an error. Copy permissions and times of directories using copystat(). Changed in version 2.6: Added the ignore argument to be able to influence what is being copied.

#### 移动和删除

**`shutil.rmtree(path[, ignore_errors[, onerror]])`**

删除整个目录树； `path` 必须指向一个文件夹，但不能是一个指向文件夹的符号链接。 如果 ` ignore_errors ` 值为真， 则删除失败时的信息将会被忽略。如果值为假或省略，那么这些错误将通过 `onerror` 指定的 handler 进行处理； 如果 `onerror` 被省略，则会 raise 一个异常。

如果指定了 `onerror`，则必须是包含三个参数： **function, path 和 excinfo**的 callable 。 第一个参数 ` function ` ， 该函数用于 raise 异常；该函数可以是 `os.path.islink(), os.listdir(), os.remove(), os.rmdir()`。 第二个参数 `path` 为传递给第一个参数的路径。 第三个参数 `excinfo` 为 `sys.exc_info()`返回的异常信息。 通过 `onerror` raise 的异常不会被捕捉。

> Changed in version 2.6: Explicitly check for path being a symbolic link and raise [OSError](https://docs.python.org/2/library/exceptions.html#exceptions.OSError) in that case.

**`shutil.move(src, dst)`**

将一个文件或文件夹从 `src` 移动到 `dst` 如果 `dst` 已存在且为文件夹，则 `src` 将会被移动到 `dst`内。 如果如 `dst` 存在但不是一个文件夹， 取决于 `os.rename()` 的语义，`dst` 可能会被覆盖。 如果 `dst` 与 `src` 在相同的文件系统下， 则使用 `os.rename()` 。 否认则，将使用 `shutil.copy2()` 复制 `src`到 `dst` 并删除。

**`shutil.Error `**

该异常汇集文件操作时 raise 的异常。 例如 `shutil.copytree()`， the exception argument is a list of 3-tuples (srcname, dstname, exception).


## 1.1.2 Python 之 glob读取路径下所有文件夹或文件方法

### 1. glob示例一

```python
import glob  
def get_all(): #获取目录[F:\\wfpdm\\My_Proc_Data_ZXTZ]下面所有的文件 
    return glob.glob('F:\\wfpdm\\My_Proc_Data_ZXTZ\\*.*') 

def get_my_file():  #获取目录[F:\\wfpdm\\My_Proc_Data_ZXTZ]下面文件名为4个字符的文件
    return glob.glob('F:\\wfpdm\\My_Proc_Data_ZXTZ\\????.txt')

def get_batch_file():  #获取目录[F:\\wfpdm\\My_Proc_Data_ZXTZ]下面扩展名为\'.txt\'的文件 
    return glob.glob('F:\\wfpdm\\My_Proc_Data_ZXTZ\\*.txt') 

def main():  
    print('获取目录[F:\\wfpdm\\My_Proc_Data_ZXTZ]下面所有的文件：')
    tem_files = get_all()  
    print(tem_files)  
    
    print('获取目录[F:\\wfpdm\\My_Proc_Data_ZXTZ]下面文件名为4个字符的文件：')  
    tem_files = get_my_file()  
    print(tem_files)  
    
    print('获取目录[F:\\wfpdm\\My_Proc_Data_ZXTZ]下面扩展名为\'.txt\'的文件：')  
    tem_files = get_batch_file()  
    print(tem_files)  
    
if __name__ == '__main__':  
    main()  
```

### 2. glob示例二

```python
from os.path import exists, isdir, basename, join, splitext
from glob import glob
EXTENSIONS = ['.zxtz']
def get_categories(datasetpath):
    '''得到所有分类，文件夹名称'''
    cat_paths = [files for files in glob(datasetpath + "/*") if isdir(files)] # datasetpath下所有路径
    cat_paths.sort()
    cats = [basename(cat_path) for cat_path in cat_paths]
    return cats

def get_files(path, extensions=EXTENSIONS):
    '''返回分类路径path下的所有视频文件名,list'''
    all_files = []
    all_files.extend([join(path, basename(fname)) for fname in glob(path + "/*") if splitext(fname)[1] in extensions])
    return all_files
```




## 1.1.1 使用python将vtt字幕转换为srt字幕
```python
#coding:utf-8
import os
import sys

# 将dir下所有file_extension（vtt）扩展名的文件返回
def get_file_name(dir, file_extension):
    f_list = os.listdir(dir)  #遍历dir目录
    result_list = []
    
    for file_name in f_list:
        if os.path.splitext(file_name)[1] == file_extension:
            result_list.append(os.path.join(dir, file_name))
            print(file_name)
    return result_list

# 将vtt转为srt
def change_vtt_to_srt(file_name):
    with open(file_name, 'r',encoding="utf-8") as input_file:
        f_name_comp = os.path.splitext(file_name)[0]
        with open(f_name_comp + '.srt', 'w',encoding="utf-8") as output_file:
            for line in input_file:
                if line[:6] != 'WEBVTT':
                    output_file.write(line.replace('.', ','))


if __name__ == '__main__':
    args = sys.argv;
    print(args)

    if os.path.isdir(args[1]): # 如果输入为目录，则转换目录下的文件
        file_list = get_file_name(args[1], ".vtt")
        for file in file_list:
            change_vtt_to_srt(file)

    elif os.path.isfile(args[1]): # 如果输入为文件，则直接转换文件
        change_vtt_to_srt(args[1])
    else:
        print("arg[0] should be file name or dir");
```


## 1.1.2 使用python创建n个空文件夹
```python
import os

# 函数：在dir路径下创建n个文件夹
def mk_dir(dir,n):
    for i in range(1,n+1):
        dir_path=os.path.join(dir,str(i))
        if not os.path.exists(dir_path):
            os.makedirs(dir_path)

im_dir=r"E:\MyProjects\sampletest\1"
mk_dir(im_dir,5)
```

## 1.1.3 使用python复制文件

**1. 将目录中命名为9148-9429的文件复制到另一个文件夹中**

```python
import cv2
import numpy as np
import pandas as pd
import os
import shutil

src_path=r'E:\12suo\11'
dst_path=r'E:\12suo\11_32'

i=1
for pic_filename in os.listdir(src_path):
    if i>= 9148 and i<=9429: #复制9148-9429的图片
        old_picpath=os.path.join(src_path, pic_filename)
        new_picpath = os.path.join(dst_path, pic_filename)
        shutil.copy(old_picpath,new_picpath)
    i = i + 1
```

**2. 复制1-12个文件夹的.jpg图片到另外的相应的路径下**

```python
import cv2
import numpy as np
import pandas as pd
import os
import shutil
src_main_dir=r"E:\work\zmvision\12suo\picsamples"
dst_main_dir=r"E:\MyProjects\algorithm\stc-vs2015\samples\picsamples\12suo_zhenghe"
for video_num in range(1,12):
    src_pic_dir=os.path.join(src_main_dir,str(video_num))
    dst_pic_dir = os.path.join(dst_main_dir, str(video_num))
    piclist = []  # 新建空链表
    file_list = os.listdir(src_pic_dir)  # 首先获取所有文件
    for item in file_list:
        if (item.endswith('.jpg')):  # 如果是.jpg文件，则放到filelist
            old_picpath = os.path.join(src_pic_dir, item)
            new_picpath = os.path.join(dst_pic_dir, item)
            shutil.copy(old_picpath, new_picpath)
```


## 1.1.4 使用python对文件进行重命名

**1. 目录中的图片的命令并不是以0001.jpg开始，而是以0072.jpg开始。将所有图片重命名，第一张以0001.jpg开始命名**

```python
import os
# 函数：对file_dir目录下的文件进行重命名
def replace_filename(file_dir):
    i=int(min(os.listdir(file_dir)).split('.')[0])-1
    for old_filename in os.listdir(file_dir):
        new_filename='{:0>4s}'.format(str(int(old_filename.split('.')[0])-i))+'.jpg'
        oldfilepath=os.path.join(filedir,old_filename)
        newfilepath=os.path.join(filedir,new_filename)
        os.rename(oldfilepath,newfilepath)
        
file_dir=r'D:\Program Files\ffmpeg-20180825-844ff49-win64-static\ffmpeg-20180825-844ff49-win64-static\bin\第1个视频\第二段'
replace_filename(file_dir)
```

## 1.1.5 os文件路径、文件名、后缀分割
```python
import os
file_path = "E:/tt/abc.py"
filepath,fullflname = os.path.split(file_path)
fname,ext = os.path.splitext(fullflname)
```
运行结果：
filepath为文件的目录,即E:/tt 
fullflname为文件名的全名，即abc.py
fname为文件的名字,即abc 
ext为文件的扩展名,即.py

basename用法是去掉目录路径，单独返回文件名abc.py
dirname：去掉文件名，单独返回目录路径E:/tt

## 1.1.6 视频切割成图像

**1.将dir1目录下视频 切成 图片存放在dir2目录下，并以"%04d.jpg"形式储存**
```python
import cv2
import numpy as np
import os


#  读取视频
capture = cv2.VideoCapture(r'dir1\11.avi')

#  存储图片的文件夹
file_dir=r'dir2\11'

if capture.isOpened():
    i=0
    while True:
        ret, prev = capture.read()
        if ret == True:        #  如果读取到图片
            i=i+1
            # 将命名改为"%04d.jpg"
            picfilename = '{:0>4s}'.format(str(i)) + '.jpg'     
            picpath = os.path.join(file_dir, picfilename)
            #cv2.imshow('video', prev)
            cv2.imwrite(picpath,prev)        #  写图片
        else:
            break
        if cv2.waitKey(20) == 27:
            break
cv2.destroyAllWindows()
```

**2.将视频切割成图片**

video_path:视频路径
im_dir: 存储图片目录
im_type="jpg"：存储图片类型，默认.jpg
im_name_mode=0：文件命名格式，默认1.jpg

```python
import cv2
import numpy as np
import os

def video2im(video_path,im_dir,im_type="jpg",im_name_mode=0):
    cap=cv2.VideoCapture(video_path)
    i=1
    while True:
        ret,im=cap.read()
        if ret==True:
            if(im_name_mode=="0"):
                im_name=str(i)+"."+im_type
            #else:
            #im_name='{:0>{1}s}'.format(str(i),im_name_mode)+"."+im_type
            im_name = '{0:0>{1}}'.format(str(i),im_name_mode) + "." + im_type
            im_path=os.path.join(im_dir,im_name)
            cv2.imwrite(im_path,im)
        else:
            break
        i=i+1

video_path=r"E:\MyProjects\sampletest\1.avi"
im_dir=r"E:\MyProjects\sampletest\1"

video2im(video_path,im_dir)
```

## 1.1.6 跟踪效果视频生成
```python
import cv2
import numpy as np
import os
import pandas as pd
pic_dir=r'F:\BaiduNetdiskDownload\KCF\data\aa'
filelist=[]     #  新建空链表
file_list = os.listdir(pic_dir)     #  首先获取所有文件
for i in file_list:
    if (i.endswith('.png')):        #  如果是.jpg文件，则放到filelist
        filelist.append(i)
        
video1 = cv2.VideoWriter("bb.mp4", cv2.VideoWriter_fourcc('X', 'V', 'I', 'D'), 30, (1920,1080))
ground=pd.read_csv(r'F:\BaiduNetdiskDownload\KCF\re\1.txt',header=None)

i = 0
for item in filelist:   # 遍历所有图片
    pic_path=os.path.join(pic_dir, item)    #  获取每张图片路径
    img = cv2.imread(pic_path)    
    
    x_lt = int(ground.iloc[i][0]-42)
    y_lt = int(ground.iloc[i][1]-33)
    x_rb = int(ground.iloc[i][0]+42)
    y_rb = int(ground.iloc[i][1]+33)
    
    cv2.rectangle(img, (x_lt, y_lt), (x_rb, y_rb), (0, 255, 0), 2)
    
    video1.write(img)
    i = i + 1
    print(i)
video1.release()
```

## 1.1.6 对一个目录下的所有图片进行重命名
```python
import glob
import os
import numpy as np
import pandas as pd
import shutil

from os.path import exists, isdir, basename, join, splitext
from glob import glob

img_dir=r'D:\360MoveData\Users\whu\Desktop\新建文件夹 (2)'
imgFullnames=glob(join(img_dir,'*'))

i=1
for item in imgFullnames:
    name='{:0>4s}'.format(str(i))
    name1=join(img_dir,name+'.jpg')
    os.rename(item,name1)
    i=i+1
```
图片合成视频
```python
import cv2
import numpy as np
import pandas as pd
import os

video = cv2.VideoWriter("mzj6.mp4", cv2.VideoWriter_fourcc('X', 'V', 'I', 'D'), 25, (1920,1080))
img_dir1=r"G:\faceswap\girl_boy1"
imgFullnames1=glob(join(img_dir1,'*'))
imgFullnames1.sort()
for item in imgFullnames1:
    img = cv2.imread(item)
    video.write(img)
    print(item)
video.release()
```

替换
```python
from PIL import Image
import matplotlib.pyplot as plt

img= Image.open(r'Z:\bak\zonghe\girl_boy\1005.png')
img2=Image.open(r'Z:\bak\test4\mzj_output4\1005.png')
plt.imshow(img)
plt.show()
plt.imshow(img2)
plt.show()

img_dir1=r"Z:\bak\zonghe\girl_boy"
imgFullnames1=glob(join(img_dir1,'*'))
imgFullnames1.sort()

i=1
for item in imgFullnames1:
    filepath,fullflname = os.path.split(item)
    fname,ext = os.path.splitext(fullflname)
    #print(int(fname))
    while i<int(fname):
        print(i)
        i=i+1
    i=i+1
```

为视频加上声音
```python
from moviepy.editor import VideoFileClip

from moviepy.editor import VideoFileClip
fg_video_path = r"G:\faceswap\video.flv"

def from_video_get_mp3():
    video = VideoFileClip(fg_video_path)
    audio = video.audio
    name = fg_video_path.split('.', 1)[0] + ".mp3"
    audio.write_audiofile(name)
    return name


def add_mp3(video_have_zm):
    fg_video = VideoFileClip(fg_video_path)
    video = VideoFileClip(video_have_zm)
    audio = fg_video.audio
    videoclip2 = video.set_audio(audio)
    name1 = video_have_zm.split('.', 1)[0] + "_out.mp4"
    videoclip2.write_videofile(name1)


if __name__ == '__main__':
    add_mp3('mzj6.mp4')
```

制作跟踪效果视频-两个框
```python
import os
import glob
from os.path import exists, isdir, basename, join, splitext
from glob import glob
import cv2
import numpy as np

img_dir = r'J:\fandeyingpan\OTB100\Deer\img'
save_dir = r'E:\tmp\Deer_video'
siamban_result_path = r'E:\gitee\tracker_benchmark_v1.1_1\presults\D3S\Deer.txt'
ours_result_path = r'E:\gitee\tracker_benchmark_v1.1_1\presults\deblur_v2.0\Deer.txt'
ground_truth_path = r'J:\fandeyingpan\OTB100\Deer\groundtruth_rect.txt'

siamban_results = np.loadtxt(siamban_result_path, dtype=int, delimiter=',')
ours_results = np.loadtxt(ours_result_path, dtype=int, delimiter=',')
gt_results = np.loadtxt(ground_truth_path, dtype=int, delimiter=',')

img_fullnames = glob(os.path.join(img_dir, '*.jpg'))
img_fullnames.sort()

count = 0
number = 1
for item in img_fullnames:
    img = cv2.imread(item)  # 保存
    simban_x_lt = siamban_results[count][0]  # 左上角坐标x（待确定）
    simban_y_lt = siamban_results[count][1]  # 左上角坐标y（待确定）
    simban_x_rb = siamban_results[count][0] + siamban_results[count][2]  # 右下角坐标x（待确定）
    simban_y_rb = siamban_results[count][1] + siamban_results[count][3]  # 右下角坐标y（待确定）

    ours_x_lt = ours_results[count][0]  # 左上角坐标x（待确定）
    ours_y_lt = ours_results[count][1]  # 左上角坐标y（待确定）
    ours_x_rb = ours_results[count][0] + ours_results[count][2]  # 右下角坐标x（待确定）
    ours_y_rb = ours_results[count][1] + ours_results[count][3]  # 右下角坐标y（待确定）

    gt_x_lt = gt_results[count][0]  # 左上角坐标x（待确定）
    gt_y_lt = gt_results[count][1]  # 左上角坐标y（待确定）
    gt_x_rb = gt_results[count][0] + ours_results[count][2]  # 右下角坐标x（待确定）
    gt_y_rb = gt_results[count][1] + ours_results[count][3]  # 右下角坐标y（待确定）

    cv2.rectangle(img, (simban_x_lt, simban_y_lt), (simban_x_rb, simban_y_rb), (0, 255, 0), 3)  # 颜色不确定，最好用绿色
    cv2.rectangle(img, (ours_x_lt, ours_y_lt), (ours_x_rb, ours_y_rb), (0, 0, 255), 3)  # 颜色不确定，最好用红色
    cv2.rectangle(img, (gt_x_lt, gt_y_lt), (gt_x_rb, gt_y_rb), (0, 255, 255), 3)  # 颜色不确定，最好用黄色

    # 左上角加帧数，颜色用黄色，不确定代码对不对，做参考
    font = cv2.FONT_HERSHEY_SIMPLEX
    text = '#' + str(number).zfill(4)
    print(text)
    cv2.putText(img, text, (10, 30), font, 0.7, (0, 255, 255), 2)
    save_path = os.path.join(save_dir, basename(item))
    cv2.imwrite(save_path, img)
    count = count + 1
    number = number + 1
```
序列查找
```python
a=["basketball-6","basketball-7","bear-6","bird-17","book-3","bottle-1","bottle-18","bus-5","bus-17","bus-19","car-2","car-6","cat-1","cattle-2","cattle-7","cattle-12","coin-18","crab-3","cup-1","cup-17","deer-4","dog-1","guitar-10","guitar-16","person-1","person-12","pig-10","pig-13","rubicCube-1","drone-13","drone-2","drone-7","pool-12","pool-15","pool-3","pool-7","rabbit-10","rabbit-13","rabbit-17","rabbit-19","racing-15","robot-1","robot-5","robot-8","sepia-13","sepia-16","sepia-8","sheep-3","sheep-7","sheep-9","skateboard-16","skateboard-19","tiger-18","tiger-6","truck-16","umbrella-17","yoyo-15","yoyo-17","yoyo-19","yoyo-7","zebra-10","zebra-16","zebra-17","elephant-1","elephant-12","elephant-16","elephant-18","hat-1","mouse-8","hand-3","hand-16","electricfan-1","electricfan-18","chameleon-11","chameleon-20","crocodile-3","crocodile-10","gecko-5","fox-20","hippo-9","kangaroo-2","shark-2","squirrel-8","squirrel-11","squirrel-13","volleyball-1","volleyball-13","volleyball-18","volleyball-19"]

b={"airplane-1":2788,"airplane-13":2971,"airplane-15":4500,"airplane-9":7971,"basketball-1":1088,"basketball-11":1851,"basketball-6":1794,"basketball-7":2101,"bear-17":2413,"bear-2":6800,"bear-4":1974,"bear-6":1671,"bicycle-18":1355,"bicycle-2":2181,"bicycle-7":2461,"bicycle-9":3001,"bird-15":1575,"bird-17":5000,"bird-2":4101,"bird-3":2311,"boat-12":1860,"boat-17":1761,"boat-3":5400,"boat-4":2251,"book-10":1621,"book-11":2071,"book-19":2881,"book-3":1800,"bottle-1":3089,"bottle-12":2400,"bottle-14":7201,"bottle-18":1800,"bus-17":1971,"bus-19":1930,"bus-2":1100,"bus-5":1680,"car-17":2251,"car-2":2046,"car-6":2802,"car-9":3461,"cat-1":2051,"cat-18":1596,"cat-20":1261,"cat-3":3571,"cattle-12":1556,"cattle-13":2321,"cattle-2":2461,"cattle-7":1780,"chameleon-11":2921,"chameleon-20":1650,"chameleon-3":1080,"chameleon-6":1800,"coin-18":1100,"coin-3":1020,"coin-6":3120,"coin-7":1681,"crab-12":1721,"crab-18":1832,"crab-3":1501,"crab-6":1959,"crocodile-10":1631,"crocodile-14":1500,"crocodile-3":4500,"crocodile-4":1277,"cup-1":1433,"cup-17":1950,"cup-4":2191,"cup-7":1370,"deer-10":1411,"deer-14":2221,"deer-4":4501,"deer-8":2911,"dog-1":1168,"dog-15":5009,"dog-19":1514,"dog-7":1918,"drone-13":3715,"drone-15":1362,"drone-2":3133,"drone-7":2817,"electricfan-1":1646,"electricfan-10":1601,"electricfan-18":1863,"electricfan-20":2305,"elephant-1":1889,"elephant-12":1053,"elephant-16":2661,"elephant-18":1494,"flag-2":3209,"flag-3":1904,"flag-5":2230,"flag-9":4267,"fox-2":2365,"fox-20":4183,"fox-3":2495,"fox-5":1728,"frog-20":2257,"frog-3":2134,"frog-4":1241,"frog-9":1211,"gametarget-1":2251,"gametarget-13":2930,"gametarget-2":1834,"gametarget-7":1616,"gecko-1":2406,"gecko-16":1471,"gecko-19":2186,"gecko-5":1251,"giraffe-10":1571,"giraffe-13":2087,"giraffe-15":1480,"giraffe-2":2103,"goldfish-10":5602,"goldfish-3":2375,"goldfish-7":8000,"goldfish-8":2250,"gorilla-13":1605,"gorilla-4":2053,"gorilla-6":2873,"gorilla-9":1839,"guitar-10":1890,"guitar-16":1000,"guitar-3":2521,"guitar-8":2190,"hand-16":4340,"hand-2":1641,"hand-3":3210,"hand-9":1733,"hat-1":3486,"hat-18":2816,"hat-2":1465,"hat-5":8000,"helmet-11":2990,"helmet-13":3121,"helmet-19":1408,"helmet-5":1537,"hippo-1":2340,"hippo-20":1659,"hippo-7":2472,"hippo-9":1898,"horse-1":1313,"horse-12":2194,"horse-15":2377,"horse-4":1451,"kangaroo-11":2553,"kangaroo-14":1363,"kangaroo-2":2348,"kangaroo-5":3119,"kite-10":3309,"kite-15":2103,"kite-4":3223,"kite-6":3774,"leopard-1":1119,"leopard-16":2233,"leopard-20":2764,"leopard-7":1432,"licenseplate-12":2685,"licenseplate-13":3083,"licenseplate-15":1478,"licenseplate-6":1470,"lion-1":1476,"lion-12":3479,"lion-20":1576,"lion-5":2451,"lizard-1":2674,"lizard-13":2803,"lizard-3":4456,"lizard-6":2027,"microphone-14":2242,"microphone-16":2178,"microphone-2":4017,"microphone-6":1767,"monkey-17":2260,"monkey-3":1261,"monkey-4":1435,"monkey-9":4079,"motorcycle-1":2241,"motorcycle-18":2557,"motorcycle-3":2487,"motorcycle-9":1660,"mouse-1":1547,"mouse-17":1608,"mouse-8":1275,"mouse-9":2818,"person-1":5550,"person-10":3901,"person-12":1990,"person-5":2967,"pig-10":2691,"pig-13":1838,"pig-18":2401,"pig-2":2671,"pool-12":1801,"pool-15":1338,"pool-3":2256,"pool-7":1634,"rabbit-10":2098,"rabbit-13":2109,"rabbit-17":1478,"rabbit-19":2222,"racing-10":1508,"racing-15":1070,"racing-16":2186,"racing-20":2941,"robot-1":5609,"robot-19":5797,"robot-5":2325,"robot-8":2371,"rubicCube-1":1800,"rubicCube-14":1827,"rubicCube-19":2101,"rubicCube-6":4291,"sepia-13":2756,"sepia-16":1548,"sepia-6":1100,"sepia-8":3694,"shark-2":3455,"shark-3":1000,"shark-5":1510,"shark-6":1238,"sheep-3":2097,"sheep-5":1000,"sheep-7":1256,"sheep-9":1840,"skateboard-16":3208,"skateboard-19":2262,"skateboard-3":1629,"skateboard-8":4112,"spider-14":2761,"spider-16":1910,"spider-18":2120,"spider-20":9999,"squirrel-11":1449,"squirrel-13":2000,"squirrel-19":1205,"squirrel-8":1041,"surfboard-12":3259,"surfboard-4":1787,"surfboard-5":4383,"surfboard-8":2215,"swing-10":2189,"swing-14":2564,"swing-17":2699,"swing-20":1282,"tank-14":3336,"tank-16":3635,"tank-6":1612,"tank-9":1312,"tiger-12":1040,"tiger-18":3107,"tiger-4":2877,"tiger-6":2295,"train-1":1150,"train-11":1080,"train-20":1389,"train-7":1425,"truck-16":7225,"truck-3":1270,"truck-6":5245,"truck-7":6515,"turtle-16":3307,"turtle-5":1096,"turtle-8":1497,"turtle-9":7133,"umbrella-17":1001,"umbrella-19":2868,"umbrella-2":4794,"umbrella-9":1615,"volleyball-1":1309,"volleyball-13":2042,"volleyball-18":2606,"volleyball-19":1467,"yoyo-15":1000,"yoyo-17":1035,"yoyo-19":3207,"yoyo-7":3806,"zebra-10":2008,"zebra-14":1673,"zebra-16":1282,"zebra-17":2964}

for item in b:
    if item in a:
        print(b[item])
```

pandas
```python
import pandas as pd
from pandas import Series,DataFrame

# 读取表格，打印表格基本信息
df = pd.read_csv(r'C:\Users\Mao\Desktop\jiu.csv',header=None)

df.shape()

df.head()
df.info()
type(df) #pandas.core.frame.DataFrame
df.duplicated()
df.count()

#若df.iloc[0]是一个表格
df.iloc[0].value_counts() # 对表格进行值的计数
type(df.iloc[0]) #pandas.core.series.Series
type(df.iloc[0:1]) #pandas.core.frame.DataFrame
type(df) #pandas.core.frame.DataFrame
type(df.values) #numpy.ndarray
df.values  #打印df的值
df.iloc[0:2].values #打印df两行的值
df.iloc[0:2].values.shape  #2行6列

#series
obj=pd.Series([4,7,-5,3])
obj.values  # 打印一个array
obj.index  #RangeIndex(start=0, stop=4, step=1)
obj2=pd.Series([4,7,-5,3],index=['d','b','a','c']) #指定索引
obj2>2  # 值大于2 相应索引的值变为True
obj2[obj2>2] #打印值大于2的项目

#
sdata={'Ohio':35000,'Texas':71000,'Oregon':16000,'Utah':5000}
obj3=pd.Series(sdata)
states=['California','Ohio','Oregon','Texas']
obj4=pd.Series(sdata,index=states) #obj4有一项为NaN
pd.notnull(obj4) # 打印，将NaN项打印为False
obj4.isnull() #和上面相反
obj4.name='population'
obj4.index.name='state'

#
data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada', 'Nevada'],
        'year': [2000, 2001, 2002, 2001, 2002, 2003],
        'pop': [1.5, 1.7, 3.6, 2.4, 2.9, 3.2]}
frame = pd.DataFrame(data)
pd.DataFrame(data,columns=['year','state'])
frame.columns #Index(['state', 'year', 'pop'], dtype='object')
frame2 = pd.DataFrame(data, columns=['year', 'state', 'pop', 'debt'],index=['one', 'two', 'three', 'four','five', 'six'])
frame2.columns  #Index(['year', 'state', 'pop', 'debt'], dtype='object')
frame2['state']
frame2.loc['one']
frame2['debt']=16.5

#
val=pd.Series([-1.2,-1.5,-1.7],index=['two','four','five'])
frame2['debt']=val
frame2['eastern']=frame2.state=='Ohio'
del frame2['eastern']
frame2.columns #Index(['year', 'state', 'pop', 'debt'], dtype='object')

pop = {'Nevada': {2001: 2.4, 2002: 2.9},'Ohio': {2000: 1.5, 2001: 1.7, 2002: 3.6}}

frame3=pd.DataFrame(pop)
frame3.T
frame3['Ohio'][:-1]

frame3.index.name='year'
frame3.columns.name='state'
frame3.values
obj=pd.Series(range(3),index=['a','b','c'])
index=obj.index  #Index(['a', 'b', 'c'], dtype='object')
index[1:] #Index(['b', 'c'], dtype='object')

#
import numpy as np
labels=pd.Index(np.arange(3))
labels #Int64Index([0, 1, 2], dtype='int64')
obj2=pd.Series([1.5,-2.5,0],index=labels)
obj2.index is labels
frame3.columns
'Ohio' in frame3.columns
data=pd.DataFrame(np.random.randint(0,11,size=100).reshape(10,10))
data.apply(pd.value_counts)

df = pd.DataFrame({'BoolCol': [1, 2, 3, 3, 4],'attr': [22, 33, 22, 44, 66]},index=[10,20,30,40,50])
a = df[(df.BoolCol==3)&(df.attr==22)].index.tolist()
df.columns #Index(['BoolCol', 'attr'], dtype='object')
df.values==22
df[df.values==22]

#
names=['0','A','B','C','D','E','F']
data=pd.read_csv(r'C:\Users\Mao\Desktop\jiu1.csv',names=names,index_col='0')
type(data.loc[1,'A']) #numpy.float64
data.apply(pd.value_counts)
data1=pd.read_csv(r'C:\Users\Mao\Desktop\jiu.csv',header=None)
data1.apply(pd.value_counts)
test1=data1.apply(pd.value_counts).sum(axis=1).astype(np.int)
test1[test1.values > 1]
```

### 杂

```python
def cp_result(src_dir,dst_dir):
    resultfile=glob.glob('/root/deepTracking/tracking_datasets/612_test/*/*/'+src_dir+'/pos_result.txt')
    dst_path='/root/wu/trackresult/'+dst_dir
    if os.path.exists(dst_path):
        shutil.rmtree(dst_path)
        os.mkdir(dst_path)
    else:
        os.mkdir(dst_path)
    for item in resultfile:
        file_name=item.split('/')[6]
        dst_file=os.path.join(dst_path,file_name+'.txt')
        shutil.copy(item,dst_file)
```



